#!/usr/bin/env bash

# live-grep: interactive search, output is "file:line" pairs
FILE_PATHS=$(live-grep --exit-on-execution | tr '\n' ' ' | sed 's/ *$//')

if [[ -n "$FILE_PATHS" ]]; then

  # focus helix pane
  zellij action focus-previous-pane

  # Send the "open" command with the file path(s)
  zellij action write-chars ":open $FILE_PATHS"

  # Send Enter
  zellij action write 13

fi