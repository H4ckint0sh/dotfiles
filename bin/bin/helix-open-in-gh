#!/usr/bin/env bash

# Get current pane content
CURRENT_PANE_CONTENT=$(tmux capture-pane -p)

# Extract file and line information
STATUS_LINE=$(echo "$CURRENT_PANE_CONTENT" | rg -e "(?:NOR|INS|SEL)\s+(\S*)\s[^â”‚]* (\d+):*.*" -o --replace '$1 $2')
FILE_NAME=$(echo $STATUS_LINE| choose 0)
LINE_NUMBER=$(echo $STATUS_LINE| choose 1)

# Open same file on sane line number in github
gh browse $FILE_NAME:$LINE_NUMBER